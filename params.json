{"name":"Alfred-cron","tagline":"A workflow that allows for a fake cron to be run and managed through Alfred 2","body":"This is not a true cron in that it doesn’t run commands at a specified time. Why? Cron doesn’t make sense to have on most regular computers; for servers, it makes sense because the servers are __always__ on. If your laptop is off, closed, or asleep, then it won’t run a cron command at the correct time. The same goes with a desktop Mac.\r\n\r\nSo, if want a command to be run daily at midnight, then it might not happen. Hence, Alfred Cron uses an “interval” system. So, if you want something run once per day, then it will run the command if it hasn’t been run for a day, which makes sense for a user computer.\r\n\r\nHow do I define a cron “job”?\r\n\r\nJobs are written as bash commands. So, if you want to write a bash script, then you can do it in the “add job” dialog box. This doesn’t mean that other types of scripts are not possible. If you want to run a python script, then your job will just run:\r\n\r\n````python “/path/to/python/script.py” ‘arg’ ````\r\n\r\nAdd / Edit / Enable / Disable / Delete Jobs\r\nAlfred Cron uses Pashua to help add and edit jobs with a nice GUI. After adding a job, it will automatically be enabled. If you want to pause a job for a while, then just disable it. If a job returns an error code, then it will be disabled, and you’ll be sent a notification that the job had an error. You can also delete jobs. Remember, deleted jobs are unrecoverable.\r\n\r\nWhat sort of jobs can I create?\r\nWell, anything. There are two examples below, but, really, you can run anything you can script. Please share good examples of things you’ve written.\r\n\r\nAlso, I’ve heard that Alfred 2.3 contains external triggers for workflows, so you can run a workflow at any particular time.\r\n\r\nLogs\r\nA log file exists for you to peruse in the Alfred Cron data directory. Log files should not exceed 2mb. When a log file hits the limit, then it will be renamed to alfred-cron.log.old, and a new file will be created. Only one older log is kept.\r\n\r\nRunning at Start Time\r\nA launched plist is included with the workflow. If you choose to install it, then Alfred Cron will start running when the system boots up. Otherwise, you’ll have to start the cron daemon manually. If you do install the plist, then you’ll need to enter an administrator password.\r\n\r\nAlfred Bundler\r\nAlfred Cron users the Alfred Bundler to download and use libraries and utility apps (Pashua, Terminal Notifier). So, if you’re running the Alfred Cron workflow initially, it might take a few minutes to set itself up. Also, if you have Gatekeeper turned on, then you will be prompted to enter an Administrator password to “whitelist” the utility applications.\r\n\r\nTips:\r\n\r\nBash variables are available for you. \r\n\r\nThe cron daemon runs under your user account, not root. So, if you want to do anything that would require sudo, then you should authorize that command for sudo for your user. If you want a safe way to add entries to your sudoers file, then look into my [“sudoers” workflow](), which checks the syntax of the entry so as not to break your sudoers file.\r\n\r\nQuote all of your paths. If there is a space in the path, then things might break.\r\n\r\nUnless you install the launchd script that accompanies the workflow, then Alfred Cron will not run at startup: you’ll have to start it manually.\r\n\r\nDebug your scripts before adding them to cron. If a script returns an error code, then the Alfred Cron daemon will disable the script and log an error. You can always check the log for output.\r\n\r\nThe daemon runs every 60 seconds (or as close to it as possible). So, setting something to run every 15 seconds is pointless. If you want the daemon to run either more or less often, then change the runInterval variable in alfred-cron.sh. Note: updates will overwrite this setting. But, honestly, 60 seconds is a sane value.\r\n\r\nIf you run a script that uses an internet connection to retrieve / push data, then make sure that you catch timeout errors so that they aren’t sent back to cron.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}